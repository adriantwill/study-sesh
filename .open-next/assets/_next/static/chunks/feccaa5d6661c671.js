(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function i({questions:e,onStartQuiz:s,onReset:i}){return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-black p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-black dark:text-white",children:"Study Questions"}),(0,t.jsxs)("p",{className:"text-zinc-600 dark:text-zinc-400 mt-2",children:[e.length," questions generated"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:s,className:"bg-black dark:bg-white text-white dark:text-black px-6 py-2 rounded-lg font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200",children:"Start Quiz"}),(0,t.jsx)("button",{onClick:i,className:"border border-zinc-300 dark:border-zinc-700 px-6 py-2 rounded-lg font-medium hover:bg-zinc-100 dark:hover:bg-zinc-900",children:"New Upload"})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.map((e,s)=>(0,t.jsx)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"shrink-0 w-8 h-8 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center text-sm font-medium",children:s+1}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-500 mb-2",children:["Page ",e.pageNumber,e.slideContext&&` â€¢ ${e.slideContext}`]}),(0,t.jsx)("div",{className:"font-medium text-black dark:text-white mb-3",children:e.question}),(0,t.jsxs)("details",{className:"text-sm",children:[(0,t.jsx)("summary",{className:"cursor-pointer text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white",children:"Show answer"}),(0,t.jsx)("div",{className:"mt-2 p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg text-zinc-700 dark:text-zinc-300",children:e.answer})]})]})]})},s))})]})})}function a({questions:e,onBack:i,onReset:a}){let[d,n]=(0,s.useState)(0),[r,l]=(0,s.useState)(!1),[c,o]=(0,s.useState)(""),[x,m]=(0,s.useState)({}),b=e[d],h=d===e.length-1,u=(d+1)/e.length*100;return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-black p-8",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-black dark:text-white",children:"Quiz Mode"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:i,className:"text-sm border border-zinc-300 dark:border-zinc-700 px-4 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-900",children:"Back to Review"}),(0,t.jsx)("button",{onClick:a,className:"text-sm border border-zinc-300 dark:border-zinc-700 px-4 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-900",children:"New Upload"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-zinc-200 dark:bg-zinc-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-black dark:bg-white transition-all",style:{width:`${u}%`}})}),(0,t.jsxs)("div",{className:"text-sm text-zinc-600 dark:text-zinc-400 font-medium",children:[d+1," / ",e.length]})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow p-8",children:[(0,t.jsxs)("div",{className:"text-xs text-zinc-500 dark:text-zinc-500 mb-4",children:["Page ",b.pageNumber,b.slideContext&&` â€¢ ${b.slideContext}`]}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-black dark:text-white mb-6",children:b.question}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Your Answer:"}),(0,t.jsx)("textarea",{value:c,onChange:e=>o(e.target.value),placeholder:"Type your answer here...",className:"w-full h-32 p-4 border border-zinc-300 dark:border-zinc-700 rounded-lg bg-white dark:bg-zinc-800 text-black dark:text-white resize-none focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white"})]}),r&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Correct Answer:"}),(0,t.jsx)("div",{className:"text-zinc-900 dark:text-zinc-100",children:b.answer})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{d>0&&(n(e=>e-1),l(!1),o(x[d-1]||""))},disabled:0===d,className:"px-6 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>l(!r),className:"flex-1 px-6 py-2 border border-zinc-300 dark:border-zinc-700 rounded-lg font-medium hover:bg-zinc-100 dark:hover:bg-zinc-800",children:r?"Hide Answer":"Show Answer"}),(0,t.jsx)("button",{onClick:()=>{c.trim()&&m(e=>({...e,[d]:c})),h||(n(e=>e+1),l(!1),o(x[d+1]||""))},disabled:h,className:"px-6 py-2 bg-black dark:bg-white text-white dark:text-black rounded-lg font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})}function d(){let[e,d]=(0,s.useState)(null),[n,r]=(0,s.useState)(!1),[l,c]=(0,s.useState)([]),[o,x]=(0,s.useState)("upload"),m=async()=>{if(!e)return;r(!0);let t=new FormData;t.append("png",e);try{let e=await fetch("/api/generate-questions",{method:"POST",body:t}),s=await e.json();console.log(s),c(s.questions||[]),x("review")}catch(e){console.error("Upload error:",e),alert("Failed to generate questions")}finally{r(!1)}};return"review"===o?(0,t.jsx)(i,{questions:l,onStartQuiz:()=>x("quiz"),onReset:()=>{x("upload"),c([]),d(null)}}):"quiz"===o?(0,t.jsx)(a,{questions:l,onBack:()=>x("review"),onReset:()=>{x("upload"),c([]),d(null)}}):(0,t.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-black p-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2 text-black dark:text-white",children:"Study Sesh"}),(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400 mb-8",children:"Upload PowerPoint png to generate study questions"}),(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow p-8",children:[(0,t.jsx)("div",{className:"border-2 border-dashed border-zinc-300 dark:border-zinc-700 rounded-lg p-12 text-center",children:e?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mb-4",children:e.name}),(0,t.jsx)("button",{onClick:()=>d(null),className:"text-sm text-red-600 hover:underline",children:"Remove"})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"file",accept:"application/png",onChange:e=>{e.target.files?.[0]&&d(e.target.files[0])},className:"hidden",id:"png-upload"}),(0,t.jsxs)("label",{htmlFor:"png-upload",className:"cursor-pointer text-zinc-600 dark:text-zinc-400 hover:text-black dark:hover:text-white",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"ðŸ“„"}),(0,t.jsx)("div",{className:"font-medium",children:"Click to upload png"}),(0,t.jsx)("div",{className:"text-sm mt-2",children:"or drag and drop"})]})]})}),e&&(0,t.jsx)("button",{onClick:m,disabled:n,className:"w-full mt-6 bg-black dark:bg-white text-white dark:text-black py-3 rounded-lg font-medium hover:bg-zinc-800 dark:hover:bg-zinc-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Generating questions...":"Generate Study Questions"})]})]})})}e.s(["default",()=>d],52683)}]);